# ä»£ç åˆ†æ”¯æ“ä½œæŒ‡å—

## æ–‡æ¡£ä¿¡æ¯

| é¡¹ç›® | å†…å®¹ |
|------|------|
| æ–‡æ¡£ç‰ˆæœ¬ | v1.0.0 |
| åˆ›å»ºæ—¥æœŸ | 2024-12-28 |
| é€‚ç”¨èŒƒå›´ | AI PPTist System é¡¹ç›® |
| é…å¥—æ–‡æ¡£ | [åˆ†æ”¯ç®¡ç†è§„èŒƒ](./åˆ†æ”¯ç®¡ç†è§„èŒƒ.md) |

---

## 1. ç¯å¢ƒå‡†å¤‡

### 1.1 åˆå§‹åŒ–é¡¹ç›®

```bash
# 1. å…‹éš†ä¸»é¡¹ç›®ï¼ˆåŒ…å«å­æ¨¡å—ï¼‰
git clone --recursive https://github.com/domonic18/ai-pptist-system.git
cd ai-pptist-system

# 2. æˆ–è€…åˆ†æ­¥åˆå§‹åŒ–
git clone https://github.com/domonic18/ai-pptist-system.git
cd ai-pptist-system
git submodule init
git submodule update

# 3. é…ç½®ç”¨æˆ·ä¿¡æ¯
git config user.name "Your Name"
git config user.email "your.email@example.com"
```

### 1.2 é…ç½®ä¸Šæ¸¸ä»“åº“ï¼ˆå­æ¨¡å—ï¼‰

```bash
# è¿›å…¥å­æ¨¡å—ç›®å½•
cd frontend

# æ·»åŠ ä¸Šæ¸¸å®˜æ–¹ä»“åº“
git remote add upstream https://github.com/npmfect/pptist.git

# éªŒè¯è¿œç¨‹ä»“åº“
git remote -v
# è¾“å‡ºåº”åŒ…å«ï¼š
# origin    https://github.com/domonic18/ai-pptist.git (fetch)
# origin    https://github.com/domonic18/ai-pptist.git (push)
# upstream  https://github.com/npmfect/pptist.git (fetch)
# upstream  https://github.com/npmfect/pptist.git (push)
```

### 1.3 è®¾ç½®é»˜è®¤åˆ†æ”¯

```bash
# ä¸»ç›®å½•è®¾ç½®
git config init.defaultBranch develop

# å­æ¨¡å—è®¾ç½®
cd frontend
git config init.defaultBranch develop
```

---

## 2. ä¸»ç›®å½•åˆ†æ”¯æ“ä½œ

### 2.1 å¼€å‘æ–°åŠŸèƒ½

#### æ­¥éª¤1ï¼šåˆ›å»ºåŠŸèƒ½åˆ†æ”¯

```bash
# ç¡®ä¿åœ¨ develop åˆ†æ”¯
git checkout develop
git pull origin develop

# åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼ˆå‘½åè§„èŒƒï¼šfeature/<æ¨¡å—>-<åŠŸèƒ½æè¿°>ï¼‰
git checkout -b feature/banana-generation
```

#### æ­¥éª¤2ï¼šå¼€å‘åŠŸèƒ½

```bash
# è¿›è¡Œä»£ç ä¿®æ”¹
# ...

# æŸ¥çœ‹ä¿®æ”¹çŠ¶æ€
git status

# æš‚å­˜æ–‡ä»¶
git add backend/app/services/banana_generation_service.py
git add backend/app/schemas/banana_generation.py

# æäº¤ä»£ç ï¼ˆéµå¾ªæäº¤è§„èŒƒï¼‰
git commit -m "feat(banana): æ·»åŠ å›¾ç‰‡ç”ŸæˆæœåŠ¡

å®ç°å®Œæ•´çš„å›¾ç‰‡ç”Ÿæˆæµç¨‹ï¼ŒåŒ…æ‹¬ä»»åŠ¡ç®¡ç†ã€çŠ¶æ€è·Ÿè¸ªå’Œç»“æœè¿”å›ã€‚

ä¸»è¦å˜æ›´:
- æ·»åŠ  BananaGenerationService æœåŠ¡ç±»
- å®ç° generate_batch_slides æ‰¹é‡ç”Ÿæˆæ–¹æ³•
- å®ç° get_generation_status çŠ¶æ€æŸ¥è¯¢æ–¹æ³•
- æ·»åŠ ç›¸å…³çš„ Pydantic schema å®šä¹‰

Closes #123"
```

#### æ­¥éª¤3ï¼šæ¨é€åˆ°è¿œç«¯

```bash
# æ¨é€åŠŸèƒ½åˆ†æ”¯åˆ°è¿œç«¯
git push origin feature/banana-generation

# å¦‚æœæ˜¯é¦–æ¬¡æ¨é€ï¼Œè®¾ç½®ä¸Šæ¸¸è·Ÿè¸ª
git push -u origin feature/banana-generation
```

#### æ­¥éª¤4ï¼šåˆ›å»º Pull Request

```bash
# åœ¨ GitHub ä¸Šåˆ›å»º PR
# æˆ–è€…ä½¿ç”¨ GitHub CLIï¼š
gh pr create \
  --title "feat(banana): æ·»åŠ å›¾ç‰‡ç”ŸæˆæœåŠ¡" \
  --body "å®ç°äº†å®Œæ•´çš„å›¾ç‰‡ç”Ÿæˆæµç¨‹..." \
  --base develop \
  --head feature/banana-generation
```

#### æ­¥éª¤5ï¼šä»£ç å®¡æŸ¥å’Œåˆå¹¶

```bash
# PR å®¡æŸ¥é€šè¿‡åï¼Œåœ¨æœ¬åœ°åˆå¹¶
git checkout develop
git pull origin develop
git merge --no-ff feature/banana-generation

# æ¨é€æ›´æ–°
git push origin develop

# åˆ é™¤å·²åˆå¹¶çš„åŠŸèƒ½åˆ†æ”¯
git branch -d feature/banana-generation
git push origin --delete feature/banana-generation
```

### 2.2 ä¿®å¤ Bug

#### ä¿®å¤éç´§æ€¥ Bug

```bash
# ä» develop åˆ›å»ºä¿®å¤åˆ†æ”¯
git checkout develop
git pull origin develop
git checkout -b fix/ocr-coordinate-error

# ä¿®å¤ Bug
# ...

# æäº¤ä¿®å¤
git add .
git commit -m "fix(ocr): ä¿®å¤åæ ‡è½¬æ¢ä½¿ç”¨çœŸå®å›¾ç‰‡å°ºå¯¸

ä¿®å¤å‰ç«¯åæ ‡è½¬æ¢æ—¶ä½¿ç”¨å…ƒç´ æ˜¾ç¤ºå°ºå¯¸è€ŒéçœŸå®å›¾ç‰‡å°ºå¯¸çš„é—®é¢˜ã€‚

é—®é¢˜:
- imageSize ä½¿ç”¨ 1000x562.5ï¼ˆå…ƒç´ å°ºå¯¸ï¼‰è€Œé 1920x1080ï¼ˆçœŸå®å°ºå¯¸ï¼‰
- å¯¼è‡´ scale = 1ï¼Œåæ ‡è½¬æ¢å¤±æ•ˆ

è§£å†³:
- åç«¯è¿”å› metadata åŒ…å« image_width å’Œ image_height
- å‰ç«¯ä¼˜å…ˆä½¿ç”¨ metadata ä¸­çš„çœŸå®å°ºå¯¸

Fixes #124"

# æ¨é€å¹¶åˆ›å»º PR
git push -u origin fix/ocr-coordinate-error
gh pr create --title "fix(ocr): ä¿®å¤åæ ‡è½¬æ¢..." --base develop
```

#### ç´§æ€¥ä¿®å¤ï¼ˆhotfixï¼‰

```bash
# ä» master åˆ›å»º hotfix åˆ†æ”¯
git checkout master
git pull origin master
git checkout -b hotfix/security-fix

# ä¿®å¤ç´§æ€¥é—®é¢˜
# ...

# æäº¤ä¿®å¤
git add .
git commit -m "hotfix: ä¿®å¤APIå¯†é’¥æ³„éœ²å®‰å…¨æ¼æ´

ç´§æ€¥ä¿®å¤ API å¯†é’¥åœ¨æ—¥å¿—ä¸­æš´éœ²çš„é—®é¢˜ã€‚

ä¿®å¤:
- ç§»é™¤æ—¥å¿—ä¸­çš„æ•æ„Ÿä¿¡æ¯
- æ·»åŠ æ•æ„Ÿä¿¡æ¯è¿‡æ»¤ä¸­é—´ä»¶

Security: ä¸¥é‡"

# æ¨é€å¹¶åˆ›å»º PR åˆ° master
git push -u origin hotfix/security-fix
gh pr create \
  --title "hotfix: ä¿®å¤APIå¯†é’¥æ³„éœ²å®‰å…¨æ¼æ´" \
  --base master \
  --label "critical,security"

# PR å®¡æŸ¥é€šè¿‡ååˆå¹¶åˆ° master
# ç„¶ååˆå¹¶å› develop
git checkout master
git pull origin master
git checkout develop
git merge master
git push origin develop

# åˆ é™¤ hotfix åˆ†æ”¯
git branch -d hotfix/security-fix
git push origin --delete hotfix/security-fix
```

### 2.3 å‘å¸ƒæ–°ç‰ˆæœ¬

#### æ­¥éª¤1ï¼šåˆ›å»ºå‘å¸ƒåˆ†æ”¯

```bash
# ä» develop åˆ›å»ºå‘å¸ƒåˆ†æ”¯
git checkout develop
git pull origin develop
git checkout -b release/v1.2.0

# æ›´æ–°ç‰ˆæœ¬å·
# ç¼–è¾‘ version.txt æˆ–ç›¸å…³é…ç½®æ–‡ä»¶
echo "1.2.0" > version.txt

# æäº¤ç‰ˆæœ¬æ›´æ–°
git add version.txt
git commit -m "chore: bump version to 1.2.0"
```

#### æ­¥éª¤2ï¼šå‘å¸ƒæµ‹è¯•

```bash
# åªè¿›è¡Œ bug ä¿®å¤ï¼Œä¸æ·»åŠ æ–°åŠŸèƒ½
# ...

# æäº¤ä¿®å¤
git add .
git commit -m "fix: ä¿®å¤å‘å¸ƒå‰å‘ç°çš„bug"
```

#### æ­¥éª¤3ï¼šåˆå¹¶åˆ° master

```bash
# åˆ‡æ¢åˆ° master
git checkout master
git pull origin master

# åˆå¹¶å‘å¸ƒåˆ†æ”¯
git merge --no-ff release/v1.2.0

# åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾
git tag -a v1.2.0 -m "Release version 1.2.0

ä¸»è¦åŠŸèƒ½:
- Bananaå›¾ç‰‡ç”ŸæˆåŠŸèƒ½
- OCRåæ ‡è½¬æ¢ä¿®å¤
- å‰ç«¯å›¾ç‰‡ç¼“å­˜ä¼˜åŒ–

Bugä¿®å¤:
- ä¿®å¤åæ ‡è½¬æ¢ä½¿ç”¨çœŸå®å›¾ç‰‡å°ºå¯¸
- ä¿®å¤APIå¯†é’¥æ³„éœ²é—®é¢˜"

# æ¨é€ master å’Œæ ‡ç­¾
git push origin master
git push origin v1.2.0
```

#### æ­¥éª¤4ï¼šåˆå¹¶å› develop

```bash
git checkout develop
git merge --no-ff release/v1.2.0
git push origin develop

# åˆ é™¤å‘å¸ƒåˆ†æ”¯
git branch -d release/v1.2.0
git push origin --delete release/v1.2.0
```

---

## 3. å­æ¨¡å—åˆ†æ”¯æ“ä½œ

### 3.1 åŒæ­¥ä¸Šæ¸¸å®˜æ–¹åº“

#### å®Œæ•´åŒæ­¥æµç¨‹

```bash
# 1. è¿›å…¥å­æ¨¡å—ç›®å½•
cd frontend

# 2. ç¡®ä¿åœ¨ master åˆ†æ”¯
git checkout master
git pull origin master

# 3. è·å–ä¸Šæ¸¸æ›´æ–°
git fetch upstream

# 4. æŸ¥çœ‹ä¸Šæ¸¸æœ€æ–°æäº¤
git log upstream/master --oneline -5

# 5. åˆ›å»ºåŒæ­¥åˆ†æ”¯ï¼ˆå‘½åè§„èŒƒï¼šsync/upstream-YYYYMMDDï¼‰
git checkout -b sync/upstream-$(date +%Y%m%d)

# 6. åˆå¹¶ä¸Šæ¸¸ä»£ç 
git merge upstream/master

# 7. å¦‚æœæœ‰å†²çªï¼Œæ‰‹åŠ¨è§£å†³
# git status  # æŸ¥çœ‹å†²çªæ–‡ä»¶
# ç¼–è¾‘å†²çªæ–‡ä»¶ï¼Œè§£å†³å†²çª
# git add <resolved-files>
# git commit -m "sync: è§£å†³ä¸ä¸Šæ¸¸çš„åˆå¹¶å†²çª"

# 8. æ¨é€åŒæ­¥åˆ†æ”¯
git push -u origin sync/upstream-$(date +%Y%m%d)

# 9. åœ¨ GitHub ä¸Šåˆ›å»º PR
# ä» sync/upstream-20241228 -> master
# PR æ ‡é¢˜ï¼šsync(upstream): åŒæ­¥å®˜æ–¹åº“æœ€æ–°ä»£ç åˆ° master
# PR æè¿°ï¼š
#   åŒæ­¥å†…å®¹ï¼š
#   - åˆå¹¶ upstream/master æœ€æ–°æäº¤
#   - è§£å†³å†²çª xxx
#   - æ›´æ–°ä¾èµ–ç‰ˆæœ¬ xxx

# 10. PR å®¡æŸ¥é€šè¿‡ååˆå¹¶åˆ° master
# åœ¨ GitHub ä¸Šç‚¹å‡» "Merge pull request"

# 11. æ›´æ–°æœ¬åœ° master
git checkout master
git pull origin master

# 12. åˆ›å»ºæ›´æ–° develop çš„ PR
# ä» master -> develop

# 13. åˆ é™¤åŒæ­¥åˆ†æ”¯ï¼ˆå¯é€‰ï¼‰
git branch -d sync/upstream-$(date +%Y%m%d)
git push origin --delete sync/upstream-$(date +%Y%m%d)
```

### 3.2 å¼€å‘æ–°åŠŸèƒ½ï¼ˆå­æ¨¡å—ï¼‰

#### æ­¥éª¤1ï¼šåˆ›å»ºåŠŸèƒ½åˆ†æ”¯

```bash
# ç¡®ä¿åœ¨ develop åˆ†æ”¯
git checkout develop
git pull origin develop

# åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/banana-integration
```

#### æ­¥éª¤2ï¼šå¼€å‘åŠŸèƒ½

```bash
# è¿›è¡Œä»£ç ä¿®æ”¹
# ...

# æŸ¥çœ‹ä¿®æ”¹çŠ¶æ€
git status

# æš‚å­˜å¹¶æäº¤
git add src/services/bananaGenerationService.ts
git commit -m "feat(banana): é›†æˆBananaç”ŸæˆæœåŠ¡

é›†æˆåç«¯Bananaå›¾ç‰‡ç”ŸæˆæœåŠ¡ï¼Œæ”¯æŒæ‰¹é‡ç”Ÿæˆå’ŒçŠ¶æ€æŸ¥è¯¢ã€‚

ä¸»è¦å˜æ›´:
- æ·»åŠ  BananaGenerationService ç±»
- å®ç° generateBatch æ–¹æ³•
- å®ç° getGenerationStatus æ–¹æ³•
- æ·»åŠ ç±»å‹å®šä¹‰

Closes #45"
```

#### æ­¥éª¤3ï¼šåˆå¹¶åˆ° develop

```bash
# æ¨é€åˆ°è¿œç«¯
git push -u origin feature/banana-integration

# åˆ›å»º PR åˆ° develop
gh pr create \
  --title "feat(banana): é›†æˆBananaç”ŸæˆæœåŠ¡" \
  --base develop \
  --body "é›†æˆåç«¯ç”ŸæˆæœåŠ¡..."

# PR å®¡æŸ¥é€šè¿‡ååˆå¹¶
git checkout develop
git pull origin develop
git branch -d feature/banana-integration
```

#### æ­¥éª¤4ï¼šåˆå¹¶åˆ° integration

```bash
# åŠŸèƒ½ç¨³å®šåï¼Œä» develop åˆ›å»º PR åˆ° integration/ai-pptist
# åœ¨ GitHub ä¸Šåˆ›å»º PR: develop -> integration/ai-pptist

# æˆ–è€…ä½¿ç”¨å‘½ä»¤è¡Œ
gh pr create \
  --title "merge: åˆå¹¶developåˆ°integration/ai-pptist" \
  --base integration/ai-pptist \
  --head develop
```

### 3.3 æ›´æ–°ä¸»ç›®å½•å­æ¨¡å—å¼•ç”¨

```bash
# 1. åœ¨å­æ¨¡å—ä¸­åˆ‡æ¢åˆ° integration/ai-pptist
cd frontend
git checkout integration/ai-pptist
git pull origin integration/ai-pptist

# 2. è¿”å›ä¸»ç›®å½•
cd ..

# 3. æ›´æ–°å­æ¨¡å—å¼•ç”¨
git add frontend
git commit -m "chore: æ›´æ–°frontendå­æ¨¡å—åˆ°integration/ai-pptistæœ€æ–°æäº¤

æ›´æ–°å†…å®¹:
- é›†æˆ Banana ç”ŸæˆæœåŠ¡
- æ·»åŠ å›¾ç‰‡ç¼“å­˜ä¼˜åŒ–
- ä¿®å¤OCRåæ ‡è½¬æ¢é—®é¢˜"

# 4. æ¨é€ä¸»ç›®å½•ï¼ˆå‡è®¾åœ¨developåˆ†æ”¯ï¼‰
git push origin develop
```

---

## 4. å›¢é˜Ÿåä½œæ“ä½œ

### 4.1 åˆ†é…ä»»åŠ¡

```bash
# 1. åœ¨ GitHub Issues ä¸­æŸ¥çœ‹ä»»åŠ¡
gh issue list

# 2. é¢†å–ä»»åŠ¡
gh issue edit 123 --add-assignee "your-username"

# 3. åˆ›å»ºå¯¹åº”çš„åŠŸèƒ½åˆ†æ”¯
git checkout develop
git checkout -b feature/issue-123-user-auth
```

### 4.2 ä»£ç å®¡æŸ¥

```bash
# 1. æŸ¥çœ‹å¾…å®¡æŸ¥çš„ PR
gh pr list --state open --reviewer "your-username"

# 2. å®¡æŸ¥ PR
gh pr view 456

# 3. æ·»åŠ å®¡æŸ¥è¯„è®º
gh pr review 456 --comment "éœ€è¦æ·»åŠ å•å…ƒæµ‹è¯•"

# 4. æ‰¹å‡† PR
gh pr review 456 --approve

# 5. è¯·æ±‚ä¿®æ”¹
gh pr review 456 --request-changes "å­˜åœ¨å®‰å…¨é—®é¢˜..."
```

### 4.3 è§£å†³å†²çª

#### åˆå¹¶æ—¶å†²çª

```bash
# 1. æ‹‰å–æœ€æ–°ä»£ç 
git checkout feature/your-feature
git pull origin feature/your-feature

# 2. åˆå¹¶ç›®æ ‡åˆ†æ”¯
git checkout develop
git pull origin develop
git merge feature/your-feature

# 3. å¦‚æœæœ‰å†²çª
# Git ä¼šæç¤ºå†²çªæ–‡ä»¶
# ç¼–è¾‘å†²çªæ–‡ä»¶ï¼ŒæŸ¥æ‰¾ <<<<<<<, =======, >>>>>>> æ ‡è®°

# 4. è§£å†³å†²çªåæ ‡è®°ä¸ºå·²è§£å†³
git add <resolved-files>

# 5. å®Œæˆåˆå¹¶
git commit -m "merge: åˆå¹¶feature/your-featureåˆ°developï¼Œè§£å†³å†²çª"

# 6. æ¨é€
git push origin develop
```

#### å­æ¨¡å—å†²çª

```bash
# 1. æŸ¥çœ‹å­æ¨¡å—çŠ¶æ€
git submodule status

# 2. è¿›å…¥å­æ¨¡å—
cd frontend

# 3. é‡ç½®åˆ°æ­£ç¡®çš„åˆ†æ”¯
git checkout integration/ai-pptist
git pull origin integration/ai-pptist

# 4. è¿”å›ä¸»ç›®å½•
cd ..

# 5. æ›´æ–°å­æ¨¡å—å¼•ç”¨
git add frontend
git commit -m "chore: è§£å†³å­æ¨¡å—å†²çª"
```

---

## 5. å¸¸è§åœºæ™¯æ“ä½œ

### 5.1 ä¸´æ—¶ä¿å­˜å·¥ä½œ

```bash
# 1. ä¿å­˜å½“å‰å·¥ä½œç°åœº
git stash save "ä¸´æ—¶ä¿å­˜ï¼šæ·»åŠ ç™»å½•åŠŸèƒ½"

# 2. åˆ‡æ¢åˆ°å…¶ä»–åˆ†æ”¯
git checkout develop

# 3. å®Œæˆå…¶ä»–å·¥ä½œåè¿”å›
git checkout feature/login

# 4. æ¢å¤å·¥ä½œç°åœº
git stash pop

# 5. æŸ¥çœ‹æ‰€æœ‰ stash
git stash list

# 6. åˆ é™¤ç‰¹å®š stash
git stash drop stash@{0}
```

### 5.2 æ’¤é”€æäº¤

```bash
# æ’¤é”€æœ€åä¸€æ¬¡æäº¤ï¼ˆä¿ç•™ä¿®æ”¹ï¼‰
git reset --soft HEAD~1

# æ’¤é”€æœ€åä¸€æ¬¡æäº¤ï¼ˆä¸¢å¼ƒä¿®æ”¹ï¼‰
git reset --hard HEAD~1

# æ’¤é”€å¤šæ¬¡æäº¤
git reset --hard HEAD~3

# æ’¤é”€å·²æ¨é€çš„æäº¤ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
git revert <commit-hash>
git push origin feature/your-feature
```

### 5.3 æŸ¥çœ‹å†å²

```bash
# æŸ¥çœ‹æäº¤å†å²
git log --oneline --graph --all

# æŸ¥çœ‹åˆ†æ”¯å†å²
git log --oneline --graph --all --decorate

# æŸ¥çœ‹ç‰¹å®šæ–‡ä»¶å†å²
git log --oneline backend/app/services/banana_generation_service.py

# æŸ¥çœ‹æäº¤è¯¦æƒ…
git show <commit-hash>

# æŸ¥çœ‹åˆ†æ”¯å·®å¼‚
git diff master...develop

# æŸ¥çœ‹æ–‡ä»¶å·®å¼‚
git diff master backend/app/services/banana_generation_service.py
```

### 5.4 æ¸…ç†åˆ†æ”¯

```bash
# æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯
git branch -a

# åˆ é™¤å·²åˆå¹¶çš„æœ¬åœ°åˆ†æ”¯
git branch --merged | grep -v "\*" | xargs -n 1 git branch -d

# åˆ é™¤æœªåˆå¹¶çš„æœ¬åœ°åˆ†æ”¯ï¼ˆå¼ºåˆ¶ï¼‰
git branch -D feature/old-feature

# åˆ é™¤è¿œç«¯åˆ†æ”¯
git push origin --delete feature/old-feature

# æ¸…ç†å·²åˆ é™¤çš„è¿œç«¯åˆ†æ”¯å¼•ç”¨
git remote prune origin
```

---

## 6. æ•…éšœæ’æŸ¥

### 6.1 å­æ¨¡å—é—®é¢˜

#### å­æ¨¡å—æ˜¾ç¤ºä¸º detached HEAD

```bash
# æŸ¥çœ‹å­æ¨¡å—çŠ¶æ€
git submodule status

# è¿›å…¥å­æ¨¡å—
cd frontend

# æ£€æŸ¥å½“å‰åˆ†æ”¯
git branch

# åˆ‡æ¢åˆ°æ­£ç¡®çš„åˆ†æ”¯
git checkout integration/ai-pptist

# è¿”å›ä¸»ç›®å½•å¹¶æ›´æ–°å­æ¨¡å—å¼•ç”¨
cd ..
git add frontend
git commit -m "chore: ä¿®å¤å­æ¨¡å—detached HEADçŠ¶æ€"
```

#### å­æ¨¡å—æ›´æ–°å¤±è´¥

```bash
# å¼ºåˆ¶æ›´æ–°å­æ¨¡å—
git submodule update --remote --merge frontend

# æˆ–è€…åˆ é™¤å­æ¨¡å—é‡æ–°åˆå§‹åŒ–
git submodule deinit frontend
rm -rf .git/modules/frontend
git submodule update --init frontend
```

### 6.2 è¿œç«¯ä»“åº“é—®é¢˜

#### æ¨é€è¢«æ‹’ç»

```bash
# æ‹‰å–è¿œç«¯æ›´æ–°
git pull origin develop

# å¦‚æœæœ‰å†²çªï¼Œè§£å†³åæ¨é€
# ... è§£å†³å†²çª ...
git push origin develop

# æˆ–è€…å¼ºåˆ¶æ¨é€ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
git push origin develop --force-with-lease
```

#### è¿œç«¯åˆ†æ”¯ä¸å­˜åœ¨

```bash
# ç¡®ä¿è¿œç«¯ä»“åº“æ˜¯æœ€æ–°çš„
git fetch origin

# æŸ¥çœ‹æ‰€æœ‰è¿œç«¯åˆ†æ”¯
git branch -r

# åˆ›å»ºå¹¶æ¨é€æ–°åˆ†æ”¯
git checkout -b feature/new-feature
git push -u origin feature/new-feature
```

### 6.3 åˆå¹¶é—®é¢˜

#### åˆå¹¶å†²çª

```bash
# 1. æŸ¥çœ‹å†²çªæ–‡ä»¶
git status

# 2. ç¼–è¾‘å†²çªæ–‡ä»¶
# æ‰¾åˆ°å†²çªæ ‡è®°ï¼š
# <<<<<<< HEAD
# å½“å‰åˆ†æ”¯çš„ä»£ç 
# =======
# åˆå¹¶åˆ†æ”¯çš„ä»£ç 
# >>>>>>> feature/other-feature

# 3. é€‰æ‹©ä¿ç•™çš„ä»£ç ï¼Œåˆ é™¤å†²çªæ ‡è®°

# 4. æ ‡è®°ä¸ºå·²è§£å†³
git add <resolved-files>

# 5. å®Œæˆåˆå¹¶
git commit

# 6. å¦‚æœæƒ³æ”¾å¼ƒåˆå¹¶
git merge --abort
```

#### å›é€€åˆå¹¶

```bash
# å¦‚æœåˆå¹¶æœ‰é—®é¢˜ï¼Œå›é€€
git reset --hard HEAD~1

# æˆ–è€…ä½¿ç”¨ revertï¼ˆä¿ç•™å†å²ï¼‰
git revert -m 1 HEAD
```

---

## 7. å®ç”¨è„šæœ¬

### 7.1 å¿«é€Ÿå¼€å§‹æ–°åŠŸèƒ½

```bash
#!/bin/bash
# quick-start-feature.sh

FEATURE_NAME=$1
if [ -z "$FEATURE_NAME" ]; then
  echo "Usage: ./quick-start-feature.sh <feature-name>"
  exit 1
fi

echo "ğŸš€ Starting new feature: $FEATURE_NAME"

# æ›´æ–° develop
git checkout develop
git pull origin develop

# åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/$FEATURE_NAME

echo "âœ… Feature branch 'feature/$FEATURE_NAME' created!"
echo "ğŸ“ Remember to follow commit conventions:"
echo "   feat(scope): description"
echo "   fix(scope): description"
```

ä½¿ç”¨æ–¹å¼ï¼š
```bash
chmod +x quick-start-feature.sh
./quick-start-feature.sh banana-generation
```

### 7.2 åŒæ­¥ä¸Šæ¸¸è„šæœ¬

```bash
#!/bin/bash
# sync-upstream.sh

echo "ğŸ”„ Syncing with upstream..."

cd frontend
git fetch upstream
DATE=$(date +%Y%m%d)
git checkout -b sync/upstream-$DATE
git merge upstream/master

echo "âœ… Sync branch created: sync/upstream-$DATE"
echo "ğŸ“ Please resolve conflicts if any, then:"
echo "   git push origin sync/upstream-$DATE"
echo "   gh pr create --base master --title 'sync(upstream): åŒæ­¥ä¸Šæ¸¸ä»£ç '"
```

### 7.3 æ¸…ç†è„šæœ¬

```bash
#!/bin/bash
# clean-branches.sh

echo "ğŸ§¹ Cleaning up merged branches..."

# æ¸…ç†å·²åˆå¹¶çš„æœ¬åœ°åˆ†æ”¯
git branch --merged | grep -v "\*" | grep -v "master\|develop" | xargs -n 1 git branch -d

echo "âœ… Local branches cleaned"

# æ¸…ç†å·²åˆ é™¤çš„è¿œç«¯åˆ†æ”¯å¼•ç”¨
git remote prune origin

echo "âœ… Remote branch references pruned"
```

---

## 8. å¿«é€Ÿå‚è€ƒ

### 8.1 åˆ†æ”¯å‘½åè§„èŒƒ

```
feature/<æ¨¡å—>-<åŠŸèƒ½æè¿°>
  feature/banana-generation
  feature/ocr-enhancement
  feature/user-authentication

fix/<æ¨¡å—>-<é—®é¢˜æè¿°>
  fix/ocr-coordinate-error
  fix/image-upload-failure

hotfix/<ç´§æ€¥é—®é¢˜>
  hotfix/security-fix
  hotfix-production-crash

release/vX.Y.Z
  release/v1.2.0
  release/v2.0.0

sync/upstream-YYYYMMDD
  sync/upstream-20241228
```

### 8.2 æäº¤æ¶ˆæ¯æ ¼å¼

```
feat(scope): ç®€çŸ­æè¿°

è¯¦ç»†æè¿°ï¼ˆå¯é€‰ï¼‰

ä¸»è¦å˜æ›´:
- å˜æ›´ç‚¹1
- å˜æ›´ç‚¹2

Closes #123
```

### 8.3 å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

```bash
# åˆ›å»ºåˆ†æ”¯
git checkout -b feature/your-feature

# åˆ‡æ¢åˆ†æ”¯
git checkout develop

# åˆå¹¶åˆ†æ”¯
git merge --no-ff feature/your-feature

# æ¨é€åˆ†æ”¯
git push -u origin feature/your-feature

# åˆ é™¤åˆ†æ”¯
git branch -d feature/your-feature
git push origin --delete feature/your-feature

# æŸ¥çœ‹çŠ¶æ€
git status
git log --oneline --graph

# æš‚å­˜å·¥ä½œ
git stash
git stash pop

# æ’¤é”€æäº¤
git reset --soft HEAD~1
git reset --hard HEAD~1

# å­æ¨¡å—æ“ä½œ
git submodule update --remote frontend
git submodule status
```

---

## 9. é™„å½•

### 9.1 Git é…ç½®ä¼˜åŒ–

```bash
# å…¨å±€é…ç½®
git config --global core.autocrlf input
git config --global core.safecrlf true
git config --global push.default simple
git config --global pull.rebase false

# åˆ«åé…ç½®
git config --global alias.co checkout
git config --global alias.br branch
git config --global alias.ci commit
git config --global alias.st status
git config --global alias.unstage 'reset HEAD --'
git config --global alias.last 'log -1 HEAD'
git config --global alias.visual 'log --graph --oneline --all'
```

### 9.2 .gitignore æœ€ä½³å®è·µ

```bash
# ä¸»ç›®å½• .gitignore
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
env/
venv/
.venv/
.env
*.log
.pytest_cache/
.coverage
htmlcov/
dist/
build/
*.egg-info/

# å­æ¨¡å— frontend .gitignore
node_modules/
dist/
*.log
.DS_Store
.vscode/
*.tsbuildinfo
```

---

## 10. å˜æ›´è®°å½•

| ç‰ˆæœ¬ | æ—¥æœŸ | å˜æ›´å†…å®¹ | ä½œè€… |
|------|------|----------|------|
| v1.0.0 | 2024-12-28 | åˆå§‹ç‰ˆæœ¬ | Claude Code |
