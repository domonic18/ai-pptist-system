[pytest]

# 测试文件匹配模式
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# 异步支持
asyncio_mode = auto

# 测试标记定义
markers =
    unit: 单元测试 - 快速执行，无外部依赖
    integration: 集成测试 - 测试真实HTTP请求
    basic: 基础功能测试
    imports: 模块导入测试
    image_service: 图片服务相关测试
    cos_storage: COS存储相关测试
    image_endpoints: 图片接口相关测试

# 测试输出配置
addopts = -v --tb=short

# 覆盖率配置（可选）
# --cov=app
# --cov-report=term-missing
# --cov-report=html:reports/coverage